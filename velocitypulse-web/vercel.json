{
  "$schema": "https://openapi.vercel.sh/vercel.json",
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "installCommand": "npm install",
  "outputDirectory": ".next",
  "ignoreCommand": "git diff --quiet HEAD^ HEAD -- .",
  "git": {
    "deploymentEnabled": {
      "master": true,
      "main": true
    }
  },
  "rewrites": [
    {
      "source": "/agent",
      "has": [{ "type": "host", "value": "get.velocitypulse.io" }],
      "destination": "/api/get/agent"
    },
    {
      "source": "/agent.sh",
      "has": [{ "type": "host", "value": "get.velocitypulse.io" }],
      "destination": "/api/get/agent-sh"
    }
  ],
  "redirects": [
    {
      "source": "/:path((?!agent).*)",
      "has": [{ "type": "host", "value": "get.velocitypulse.io" }],
      "destination": "https://velocitypulse.io",
      "permanent": false
    }
  ]
}
